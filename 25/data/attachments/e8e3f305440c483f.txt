const jsonData = pm.response.json();

pm.test("Status code is 400 or appropriate for validation error", () => {
    pm.response.to.have.status(400); // Adjust if your API returns a different status
});

pm.test("Response fields for invalid CVV are correct", () => {
    pm.expect(jsonData).to.have.property("data", "");
    pm.expect(jsonData).to.have.property("message").that.includes("Invalid CVV value. Please, confirm and try again.");
    pm.expect(jsonData).to.have.property("isSuccessful", false);
    pm.expect(jsonData).to.have.property("messages").that.is.an("array").that.is.empty;
    pm.expect(jsonData).to.have.property("timeGenerated").that.is.a("string");
});